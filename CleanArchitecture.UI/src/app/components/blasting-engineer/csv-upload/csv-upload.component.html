<div class="csv-upload-container">
  <div class="upload-card">
    <h2>Upload Drill Hole Data</h2>
    
    <div class="upload-area" [class.dragover]="isDragover" (dragover)="onDragOver($event)" (dragleave)="onDragLeave($event)" (drop)="onDrop($event)">
      <div class="upload-content">
        <i class="upload-icon">üìÅ</i>
        <p>Drag and drop your CSV file here</p>
        <p class="or-text">or</p>
        <input
          type="file"
          accept=".csv"
          (change)="onFileSelected($event)"
          #fileInput
          class="file-input"
        />
        <button class="browse-button" (click)="fileInput.click()">
          Browse Files
        </button>
      </div>
    </div>

    <div *ngIf="selectedFile" class="selected-file">
      <p>Selected file: {{ selectedFile.name }}</p>
      <button class="remove-button" (click)="resetForm()">Remove</button>
    </div>

    <div *ngIf="uploadError" class="error-message">
      {{ uploadError }}
    </div>

    <div *ngIf="isUploading" class="progress-container">
      <div class="progress-bar">
        <div class="progress" [style.width.%]="uploadProgress"></div>
      </div>
      <span class="progress-text">{{ uploadProgress }}%</span>
    </div>

    <button
      class="upload-button"
      (click)="uploadFile()"
      [disabled]="!selectedFile || isUploading"
    >
      {{ isUploading ? 'Uploading...' : 'Upload CSV' }}
    </button>
  </div>
</div>
