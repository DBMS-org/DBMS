<div class="add-project-container">
  <!-- Header Section -->
  <div class="header-section">
    <div class="header-left">
      <button class="btn btn-outline-secondary back-btn" (click)="cancel()">
        <i class="fas fa-arrow-left"></i> Back to Projects
      </button>
      <h2 class="page-title">Add New Project</h2>
    </div>
    <div class="header-right">
      <button class="btn btn-secondary reset-btn" type="button" (click)="resetForm()">
        <i class="fas fa-undo"></i> Reset Form
      </button>
    </div>
  </div>

  <!-- Success Message -->
  <div *ngIf="successMessage" class="alert alert-success">
    <i class="fas fa-check-circle"></i> {{ successMessage }}
  </div>

  <!-- Error Message -->
  <div *ngIf="error" class="alert alert-danger">
    <i class="fas fa-exclamation-circle"></i> {{ error }}
  </div>

  <!-- Add Project Form -->
  <div class="form-container">
    <form (ngSubmit)="onSubmit()" #addProjectForm="ngForm">
      
      <!-- Basic Information Card -->
      <div class="form-card">
        <div class="card-header">
          <h3><i class="fas fa-info-circle"></i> Basic Information</h3>
        </div>
        <div class="card-body">
          <div class="form-grid">
            <div class="form-group">
              <label for="region">Region <span class="required">*</span></label>
              <select 
                id="region"
                class="form-select" 
                [(ngModel)]="projectForm.region" 
                name="region"
                required>
                <option value="">Select Region</option>
                <option *ngFor="let region of regionOptions" [value]="region">{{region}}</option>
              </select>
            </div>

            <div class="form-group">
              <label for="project">Project <span class="required">*</span></label>
              <input 
                type="text" 
                id="project"
                class="form-control" 
                [(ngModel)]="projectForm.project" 
                name="project"
                placeholder="Enter project name"
                required>
            </div>

            <div class="form-group">
              <label for="status">Status <span class="required">*</span></label>
              <select 
                id="status"
                class="form-select" 
                [(ngModel)]="projectForm.status" 
                name="status"
                required>
                <option *ngFor="let status of statusOptions" [value]="status">{{status}}</option>
              </select>
            </div>

            <div class="form-group full-width">
              <label for="description">Description</label>
              <textarea 
                id="description"
                class="form-control" 
                rows="4"
                [(ngModel)]="projectForm.description" 
                name="description"
                placeholder="Enter project description (optional)"></textarea>
            </div>
          </div>
        </div>
      </div>

      <!-- Project Timeline Card -->
      <div class="form-card">
        <div class="card-header">
          <h3><i class="fas fa-calendar-alt"></i> Project Timeline</h3>
        </div>
        <div class="card-body">
          <div class="form-grid">
            <div class="form-group">
              <label for="startDate">Start Date</label>
              <input 
                type="date" 
                id="startDate"
                class="form-control" 
                [value]="formatDateForInput(projectForm.startDate)"
                (change)="onStartDateChange($event)"
                name="startDate">
            </div>

            <div class="form-group">
              <label for="endDate">Expected End Date</label>
              <input 
                type="date" 
                id="endDate"
                class="form-control" 
                [value]="formatDateForInput(projectForm.endDate)"
                (change)="onEndDateChange($event)"
                name="endDate">
            </div>
          </div>
        </div>
      </div>

     

      <!-- Form Actions -->
      <div class="form-actions">
        <button 
          type="button" 
          class="btn btn-outline-secondary cancel-btn" 
          (click)="cancel()">
          <i class="fas fa-times"></i> Cancel
        </button>
        
        <button 
          type="submit" 
          class="btn btn-primary submit-btn" 
          [disabled]="loading || !addProjectForm.valid">
          <span *ngIf="loading" class="spinner-border spinner-border-sm" role="status"></span>
          <i *ngIf="!loading" class="fas fa-save"></i>
          {{ loading ? 'Creating...' : 'Create Project' }}
        </button>
      </div>

    </form>
  </div>
</div>
