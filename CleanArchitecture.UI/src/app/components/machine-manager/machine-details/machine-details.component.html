<div class="modal-overlay" (click)="onClose()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <div class="header-content">
        <div class="header-icon">
          <i class="material-icons">info</i>
        </div>
        <div class="header-text">
          <h2>Machine Details</h2>
          <p class="header-subtitle">View machine information</p>
        </div>
      </div>
      <button class="close-btn" (click)="onClose()">
        <i class="material-icons">close</i>
      </button>
    </div>

    <div class="machine-details-form">
      
      <!-- Machine Details Card -->
      <div class="details-card">
        <div class="card-header">
          <div class="card-header-content">
            <div class="card-icon">
              <i class="material-icons">info</i>
            </div>
            <div class="card-title-section">
              <h3>{{ machine.name }}</h3>
              <p class="card-subtitle">Machine Information</p>
            </div>
          </div>
          <div class="status-indicator" [class]="getStatusClass(machine.status)">
            <i class="material-icons">{{ getStatusIcon(machine.status) }}</i>
            <span>{{ machine.status }}</span>
          </div>
        </div>
        <div class="card-body">
          <div class="details-grid">
            <div class="detail-item">
              <div class="detail-label">
                <i class="material-icons">badge</i>
                Machine Name
              </div>
              <div class="detail-value">{{ machine.name }}</div>
            </div>
            
            <div class="detail-item">
              <div class="detail-label">
                <i class="material-icons">person</i>
                Operator Name
              </div>
              <div class="detail-value">{{ machine.operatorName || 'Not assigned' }}</div>
            </div>

            <div class="detail-item">
              <div class="detail-label">
                <i class="material-icons">model_training</i>
                Model
              </div>
              <div class="detail-value">{{ machine.model }}</div>
            </div>

            <div class="detail-item">
              <div class="detail-label">
                <i class="material-icons">qr_code</i>
                Serial Number
              </div>
              <div class="detail-value">{{ machine.serialNumber }}</div>
            </div>

            <div class="detail-item">
              <div class="detail-label">
                <i class="material-icons">construction</i>
                Rig No
              </div>
              <div class="detail-value">{{ machine.rigNo || 'N/A' }}</div>
            </div>
            
            <div class="detail-item">
              <div class="detail-label">
                <i class="material-icons">local_shipping</i>
                Plate No
              </div>
              <div class="detail-value">{{ machine.plateNo || 'N/A' }}</div>
            </div>

            <div class="detail-item">
              <div class="detail-label">
                <i class="material-icons">domain</i>
                Company
              </div>
              <div class="detail-value">{{ machine.company || 'N/A' }}</div>
            </div>
            
            <div class="detail-item">
              <div class="detail-label">
                <i class="material-icons">calendar_today</i>
                Manufacturing Year
              </div>
              <div class="detail-value">{{ machine.manufacturingYear || 'N/A' }}</div>
            </div>

            <div class="detail-item full-width">
              <div class="detail-label">
                <i class="material-icons">directions_car</i>
                Chassis Details
              </div>
              <div class="detail-value chassis-details">{{ machine.chassisDetails || 'N/A' }}</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Additional Information Card -->
      <div class="details-card">
        <div class="card-header">
          <div class="card-header-content">
            <div class="card-icon">
              <i class="material-icons">assignment</i>
            </div>
            <div class="card-title-section">
              <h3>Additional Information</h3>
              <p class="card-subtitle">System generated details</p>
            </div>
          </div>
        </div>
        <div class="card-body">
          <div class="details-grid">
            <div class="detail-item">
              <div class="detail-label">
                <i class="material-icons">location_on</i>
                Current Location
              </div>
              <div class="detail-value">{{ machine.currentLocation || 'Not specified' }}</div>
            </div>

            <div class="detail-item">
              <div class="detail-label">
                <i class="material-icons">category</i>
                Machine Type
              </div>
              <div class="detail-value">{{ machine.type || 'Not specified' }}</div>
            </div>

            <div class="detail-item">
              <div class="detail-label">
                <i class="material-icons">schedule</i>
                Created Date
              </div>
              <div class="detail-value">{{ formatDate(machine.createdAt) }}</div>
            </div>

            <div class="detail-item">
              <div class="detail-label">
                <i class="material-icons">update</i>
                Last Updated
              </div>
              <div class="detail-value">{{ formatDate(machine.updatedAt) }}</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Actions -->
      <div class="details-actions">
        <button 
          type="button" 
          class="close-btn-action" 
          (click)="onClose()">
          <i class="material-icons">close</i>
          Close
        </button>
      </div>
    </div>
  </div>
</div>
