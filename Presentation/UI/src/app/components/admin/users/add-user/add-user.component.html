<div class="modal-overlay" (click)="onClose()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h2>Add New User</h2>
      <button class="close-btn" (click)="onClose()">
        <i class="material-icons">close</i>
      </button>
    </div>

    <!-- Error Alert in Modal -->
    @if (error) {
      <div class="error-alert">
        <i class="material-icons">error</i>
        <span>{{error}}</span>
      </div>
    }

    <form (ngSubmit)="onSubmit()" class="add-user-form">
      <div class="form-grid">
        <div class="form-group">
          <label for="name">Name</label>
          <input type="text" id="name" [(ngModel)]="user.name" name="name" required>
        </div>

        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" [(ngModel)]="user.email" name="email" required>
        </div>

        <div class="form-group">
          <label for="password">Password</label>
          <input type="password" id="password" [(ngModel)]="user.password" name="password" required>
        </div>

        <div class="form-group">
          <label for="confirmPassword">Confirm Password</label>
          <input type="password" id="confirmPassword" [(ngModel)]="user.confirmPassword" name="confirmPassword" required>
        </div>

        <div class="form-group">
          <label for="role">Role</label>
          <select id="role" [(ngModel)]="user.role" name="role" required>
            @for (role of roles; track role) {
              <option [value]="role">{{role}}</option>
            }
          </select>
        </div>

        <div class="form-group">
          <label for="region">Region</label>
          <select id="region" [(ngModel)]="user.region" name="region" required>
            <option value="">Select Region</option>
            @for (region of regions; track region) {
              <option [value]="region">{{region}}</option>
            }
          </select>
        </div>

        <div class="form-group">
          <label for="country">Origin</label>
          <select id="country" [(ngModel)]="user.country" name="country" required>
            <option value="">Select Country</option>
            @for (country of countries; track country) {
              <option [value]="country">{{country}}</option>
            }
          </select>
        </div>

        <div class="form-group">
          <label for="omanPhone">Oman Phone</label>
          <input type="tel" id="omanPhone" [(ngModel)]="user.omanPhone" name="omanPhone" placeholder="+968 XXXX XXXX">
        </div>

        <div class="form-group">
          <label for="countryPhone">Country Phone</label>
          <input type="tel" id="countryPhone" [(ngModel)]="user.countryPhone" name="countryPhone" placeholder="+XXX XXXX XXXX">
        </div>
      </div>

      <div class="form-actions">
        <button type="button" class="cancel-btn" (click)="onClose()">Cancel</button>
        <button type="submit" class="save-btn">Save User</button>
      </div>
    </form>
  </div>
</div>
